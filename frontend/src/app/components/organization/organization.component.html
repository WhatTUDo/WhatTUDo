<div class="contextual-control">
  <span class="clickable no-hover-enlarge no-shadow" id="back-button" onclick="history.back()"><fa-icon
    [icon]="faChevronLeft"></fa-icon>&ensp;Back</span>
  <span *ngIf="organization">Team: {{organization.name}}</span>
</div>
<div *ngIf="organization" class="grid-one-third">
  <div>
    <h2>This Team</h2>
    <div class="organization-info">
      <img alt="" class="avatar avatar-medium" src="https://picsum.photos/256/256/">
      <div class="organization-details">
        <div class="organization-name">{{organization.name}}</div>
      </div>
    </div>
    <div>
      Efficiently unleash cross-media information without cross-media value. Quickly maximize timely deliverables for
      real-time schemas. Dramatically maintain clicks-and-mortar solutions without functional solutions.
      <!-- TODO: Discuss if a description makes sense for a organization. -->
    </div>
    <p></p>
    <div class="organization-action-container">
      <a href="/form/organization/{{organization.id}}">
        <div class="organization-action clickable no-hover-enlarge no-shadow">
          Edit team
        </div>
      </a>
      <div class="organization-action dangerous clickable no-hover-enlarge no-shadow">
        Dissolve team
      </div>
    </div>
  </div>
  <div>
    <div class="title-icon-button-combo">
      <h2>People</h2>
      <div class="icon-button clickable no-hover-enlarge no-shadow">
        <fa-icon [icon]="faPlus"></fa-icon>
      </div>
    </div>

    <div class="organization-member-list">
      <div *ngFor="let member of organizationMembers" class="organization-member">
        <img alt="" class="avatar avatar-small" src="https://picsum.photos/256/256/">
        <div class="organization-member-details">
          <div class="organization-member-name">@{{member.username}}</div>
          <div class="organization-member-role">{{member.role}}</div>
        </div>
        <div class="organization-member-buttons">
          <div class="clickable no-hover-enlarge no-shadow organization-manage-member-button">
            <fa-icon [icon]="faCog"></fa-icon>
          </div>
          <div class="clickable no-hover-enlarge no-shadow organization-kick-member-button">
            <fa-icon [icon]="faTimesCircle"></fa-icon>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>
    <div class="title-icon-button-combo">
      <h2>Calendars</h2>
      <div (click)="calendarAddExpanded = !calendarAddExpanded"
           class="icon-button clickable no-hover-enlarge no-shadow">
        <fa-icon *ngIf="!calendarAddExpanded" [icon]="faPlus"></fa-icon>
        <fa-icon *ngIf="calendarAddExpanded" [icon]="faTimes"></fa-icon>
      </div>
    </div>
    <div *ngIf="calendarAddExpanded" class="add-calendar-selector">
      <label for="event.calendarId">Calendar</label>
      <div class="input-button-combo">
        <select #selectCalenderId [ngModel]="selectCalendar(+selectCalenderId.value)" class="form-control"
                id="event.calendarId">
          <option *ngFor="let cal of editableCalendars" [disabled]="organization.calendarIds.includes(cal.id)"
                  value="{{cal.id}}">{{cal.name}}</option>
        </select>
        <button (click)="onSubmitAddCalendar(pickedCalendarId)" [disabled]="!pickedCalendarId"
                class="button-solid no-hover-enlarge">Submit
        </button>
      </div>
    </div>
    <div>
      <div *ngFor="let cal of organizationCalendars"
           class="organization-calendar">
        <div class="organization-calendar-details clickable no-hover-enlarge no-shadow"
             routerLink="/calendar/{{cal.id}}">
          <div class="organization-calendar-name">{{cal.name}}</div>
        </div>
        <div class="organization-calendar-buttons">
          <fa-icon (click)="removeCalendar(cal.id)" [icon]="faTimesCircle" class="clickable no-hover-enlarge no-shadow">
            Remove Calendar
          </fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>
