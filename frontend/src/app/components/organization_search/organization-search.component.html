<div class="contextual-control">
  <span id="back-button"><a class="clickable no-hover-enlarge" href="/"><fa-icon
    [icon]="faChevronLeft"></fa-icon>&ensp;Back</a></span>
</div>

<div class="centered-two-third">
  <div class="title-icon-button-combo">
    <h2>Organizations</h2>
    <div *ngIf="authService.isLoggedIn()" class="icon-button clickable no-hover-enlarge">
      <fa-icon [icon]="faPlus" routerLink="/form/organization"></fa-icon>
    </div>
  </div>
  <form (ngSubmit)="onSubmit()" [formGroup]="searchForm" class="filter input-button-combo">
    <label for="organization.name"></label>
    <input class="form-control" formControlName="name" id="organization.name" type="text" value="">
    <button (click)="clearSearch()" *ngIf="searchActive" class="button-red no-hover-enlarge flat-right-side"
            type="reset">Clear
    </button>
    <button class="no-hover-enlarge" type="submit">Filter</button>
  </form>
  <div class="">
    <div *ngFor="let org of searchActive?organizationSearchResult:organizations" class="organization">
      <img alt="" class="avatar avatar-medium" src="{{org.coverImageUrl}}">
      <div class="organization-details clickable no-hover-enlarge" routerLink='/organization/{{org.id}}'>
        <div class="organization-name">{{org.name}}</div>
        <div class="organization-member-avatars">
          <img *ngFor="let avatar of organizationUserAvatars.get(org.id)" alt="" class="avatar avatar-ultra-small"
               src="{{avatar}}">
        </div>
      </div>
      <div class="organization-buttons">
        <fa-icon *ngIf="org.canEdit" [icon]="faCog" class="clickable no-hover-enlarge"
                 routerLink="/form/organization/{{org.id}}">
          Edit Calendar
        </fa-icon>
        <fa-icon (click)="onClickedDelete(org.id)" *ngIf="org.canDelete" [icon]="faTimesCircle"
                 class="clickable no-hover-enlarge">
          Remove Calendar
        </fa-icon>
      </div>
    </div>
  </div>
</div>
